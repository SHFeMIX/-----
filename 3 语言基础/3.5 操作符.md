ESMAScript中的操作符可以用于各种值，包括字符串，数值，布尔值，甚至还有对象。在应用给对象时，操作符通常会调用valueOf()或toString()等方法。

###一元操作符

**递增/递减操作符**

++和--都可以让变量加1/减1， 放在变量前面返回改变后的值，放在变量后面返回原值。
a = a ++ 无效，a = ++ a 有效
* 放在变量前面是先改变再返回，放在后面是先返回再改变。

四个操作符可以用于任何值
* 字符串：如果是有效的数值，转换为数值；如果不是，返回NaN
* 布尔值：true转换为1，false转换为0
* 对象：调用valueOf()方法，然后按照前面的规则转换；如果是NaN，则调用toString()方法，然后再按照前面的规则转换
  
**一元加和减**
* \+：放在数值前面没有任何影响，放在非数值前面会使用Number()函数一样的类型转换。 
* \-：放在数值前面会变成负数，放在非数值前面会使用Number()函数一样的类型转换，再取负数。

###位操作符
位运算并不直接应用到64位表示，而是先把值转换为32位整数再进行位运算。只需要考虑32位整数。

有符号整数用前31位表示整数值，第32位表示符号，0是正1是负。

负数以补码的二进制编码储存表示，即反码+1。处理有符号整数时无法访问第31位。

如果将位操作符应用到非数值，会自动使用Number()函数转换为数值。

* 按位非：~，返回数值的反码，即每一位取反，符号位也取反。
* 按位与：&，对每一位执行与操作，只有两个数值对应位都是1时才返回1。
* 按位或：|，对每一位执行或操作，只要两个数值对应位有一个是1就返回1。
* 按位异或：^，对每一位执行异或操作，只有两个数值对应位不相同时才返回1。
* 左移：<<，将数值的所有位向左移动指定的位数，右侧空位补0，左移不会影响符号位。
* 右移：>>，将数值的所有位向右移动指定的位数，左侧空位补符号位，右移不会影响符号位。

* 无符号右移：>>>，将数值的所有32位向右移动指定的位数，左侧空位补0，右移会影响符号位。

###布尔操作符
会先用Boolean()函数把操作数转换为布尔值，再执行相应的操作。
* 对象：true
* 字符串：除空字符串外都是true
* 数字：除0和NaN外都是true
* undefined：false
* null：false
  
**逻辑非**
！，返回布尔值的反值。( ! ! ) 相当于调用Boolean()把操作数转换为布尔值。

**逻辑与**
&&， 两个都是true才返回true。
如果有操作数不是布尔值，则逻辑与并不一定会返回布尔值。
* 如果第一个操作数是对象，则返回第二个操作数。
* 如果第二个操作数是对象，则只有第一个操作数求值为true才会返回该对象。
* 如果两个操作数都是对象，则返回第二个操作数。
* null，NaN和undefined都是，有一个操作数是它们，就返回它们自己。
* 逻辑操作符是短路操作符，如果第一个操作数求值是false，那么永远不会对第二个操作数求值，直接返回false。

**逻辑或**
｜｜，两个都是false才返回false
如果有操作数不是布尔值，则逻辑或也不一定会返回布尔值。
* 如果第一个操作数是对象，则返回第一个操作数。
* 如果第一个操作数求值为false，返回第二个操作数。
* 如果两个操作数都是对象，则返回第一个操作数
* null，NaN和undefined都是，有一个操作数是它们，就返回它们自己。
* 逻辑操作符也是短路操作符，如果第一个操作数求值是true，那么永远不会对第二个操作数求值，直接返回true。

### 乘性操作符
**乘法**
由*表示
* 任一操作数是NaN，返回NaN
* Infinity * 0，返回NaN
* Infinity * 非0，返回正\负Infinity
* 如果有不是数值的操作数，先在后台用Number()转换再应用上述规则。

**除法操作符**
由/表示
* 任一操作数是NaN，返回NaN
* Infinity / Infinity，返回NaN
* 0 / 0，返回NaN
* 非0的有限值 / 0，返回正\负Infinity
* Inifnity / 任何数值，返回正\负Infinity
* 如果有不是数值的操作数，先在后台用Number()转换再应用上述规则。


**取模操作符**
由%表示
* 如果被除数是无限值，除数是有限值得，返回NaN
* 如果被除数是有限值，除数是0，返回NaN
* 如果Infinity除以Infinity，返回NaN
* 如果被除数是有限值，除数是无限值，返回被除数
* 如果被除数是0，除数不是0，返回0
* 如果有不是数值的操作数，先在后台用Number()转换再应用上述规则。

###指数操作符
由**表示，等同于Math.pow()。
指数操作符也有自己的指数赋值操作符\**=
```javascript
let squared = 3;
squared **= 2;
console.log(squared); // 9
```

###加性操作符
加性操作符由+和-表示，会在后台发生不同数据类型的转换。
**加法操作符**
如果两个操作数都是数值：
* 任一操作数是NaN，返回NaN
* Infinity + Infinity，返回Infinity
* -Infinity + -Infinity，返回-Infinity
* Infinity + -Infinity，返回NaN
* 对于0，只有两个都是-0才返回-0，其他都是+0

如果有一个操作数是字符串：
* 如果两个都是字符串，拼接
* 如果只有一个是字符串，把另一个转换为字符串再拼接。
任一操作数是对象或者布尔值，调用它们的toString()方法转换为字符串再应用上述规则，undefined和null用String()。

**减法操作符**
* 任一操作数是NaN，返回NaN
* 两个相同的无限值，返回NaN
* 两个不同的无限值，返回第一个
* 对于两个0相减，符号相同返回+0，不同返回-0 

###关系操作符
<, >, <=, >=, 返回布尔值
* 操作数都是字符串，逐个比较字符串对应字符的编码。
* 任一操作数是数值，将另一个转换为数值再比较
* 任一操作数是对象，调用其valueOf()方法，没有就toString()，再应用上述规则比较。
* 任一操作数是布尔值，转换为数值再比较

###相等操作符
ECMAScript中的相等和不相等操作符，原本会在比较之前执行类型转换，但是最终ECMAscript提供了两组操作符。等于和不等于会在比较前执行类型转换，全等和不全等不会。

**等于和不等于**
这两个操作符都会先进行类型转换再确定操作数是否相等
* 任一操作数是布尔值，则转换为数值再比较
* 一个是字符串另一个是数值，会尝试将字符串转换为数值再比较
* 如果一个操作数是对象，另一个不是，会调用对象的ValueOf()方法取得原始值，再根据上述规则比较

进行比较时遵循如下规则：
* null和undefined相等
* null和undefined不能转换为其他类型再比较
* 任一操作数是NaN就是不想等
* 两个操作数都是对象，比较它们是不是指向同一个对象。

**全等和不全等**
只有两个操作数载不转换的前提下相等才返回true

###条件操作符
variable = boolean_expression ? true_value : false_value

###赋值操作符
**复合赋值**
*=，/=，%=，+=，-=，<<=，>>=，>>>=，&=，^=，|=，**=

**逗号操作符**
逗号操作符可以用来在一条语句中执行多个操作。
```javascript
let num1 = 1, num2 = 2, num3 = 3;
```

在赋值语句中，逗号操作符会返回表达式中的最后一项。
```javascript
let num = (5, 1, 4, 8, 0); // num的值为0
```
